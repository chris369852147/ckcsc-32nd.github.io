!function(t){console.log("nameCard loaded"),t.fn.nameCard=function(t){var n=this[0].getContext("2d");t||(t={});var a={name:"吳政儒",nickName:"狸貓",job:"社長 社寵"};for(var e in a)e in t||(t[e]=a[e]);n.fillStyle="#1b2124",n.fillRect(0,0,900,540),n.fillStyle="#ffffff",n.font="120px Auraka點陣宋",n.fillText(t.name,30,130),n.font="60px Auraka點陣宋",n.fillText(t.job,420,80),n.font="50px Auraka點陣宋",n.fillText(t.nickName,420,150),n.font="30px Auraka點陣宋"}}($),function(t){function n(t,n,a){var e=16*t,o=128-16*(n+1);a.fillRect(e,o,16,16)}console.log("avatar loaded"),t.fn.avatar=function(t="#ffffff",a="#000000"){return function(t,a,e){!function(t,n){var a=t.fillStyle;t.fillStyle=n,t.fillRect(0,0,128,128),t.fillStyle=a}(t,e);var o=t.fillStyle;t.fillStyle=a;for(var l=[7,6,5,4],i=0;i<8;i++)for(var r in l)100*Math.random()>50&&(n(r,i,t),n(l[r],i,t));t.fillStyle=o}(this[0].getContext("2d"),t,a),this}}($),console.log("script loaded");var intro=[],index=0,all=16,step=2;function nameCard(t){if(intro.length<=3)setTimeout(nameCard,100,t);else{t-=1;var n=data[t],a=$("#nameCard-lg")[0].getContext("2d");console.log(t),$("#nameCard").nameCard({name:n.name,nickName:n.nickName,job:function(t){var n="";for(var a in t)n+=t[a]+" ";return n}(n.position)}),$("#avatar").avatar(),a.drawImage($("#avatar")[0],50.5,200.5,256,256),console.log(n);var e=[230,280,330,380,430,480],o=intro[t].split("\n");for(var l in console.log(o),o)a.fillText(o[l],330,e[l])}}function left(t){index=(index+t)%all,console.log("===== left =====");for(var n=0;n<4;n++){console.log(a);var a=(index+n)%all;$(`#p${n}`).text(data[a].name)}console.log("================")}function button(t){nameCard((index+t)%all+1)}data.forEach((t,n)=>{$.ajax(`./intro/${t.intro}`).then(t=>{intro[n]=t}).catch(()=>{then[n]="not found"})}),$(document).ready(function(){nameCard(1),$("#avatar").hide(),$("#p0").text(data[0].name).click(()=>{button(0)}),$("#p1").text(data[1].name).click(()=>{button(1)}),$("#p2").text(data[2].name).click(()=>{button(2)}),$("#p3").text(data[3].name).click(()=>{button(3)}),$("#left").click(()=>{left(all-step)}),$("#right").click(()=>{left(step)})}),$(function(){new Swiper(".swiper-container",{loop:!0,pagination:".swiper-pagination",paginationClickable:!0,nextButton:".swiper-button-next",prevButton:".swiper-button-prev"})});